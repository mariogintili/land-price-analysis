#!/bin/bash

jupyter_exists() {
  [ `type -t jupyter`"" == 'function' ]
}

lein_exists() {
  [ `type -t lein`"" == 'function' ]
}

echo "游놓  Spinning off the notebook"
echo "

               (
                  )
              (            .  .
           |^^^^^^^^^|   . 游놓游놓游놓游놓 .
           |         | . 游놓游놓游놓游놓游놓游놓游놓游놓 .
           |         | 游놓游놓游놓游놓 ^^ 游놓游놓游놓游놓 .
           |       . 游놓游놓游놓游놓 ^ () ^ 游놓游놓游놓游놓 .
           |       游놓游놓游놓游놓 ^  =   = ^ 游놓游놓游놓游놓 .
           |      游놓游놓游놓游놓 ^  _.----._  ^ 游놓游놓游놓游놓 .
           |    游놓游놓游놓游놓 ^ =.  ______ .  ^ 游놓游놓游놓游놓 .
           |  游놓游놓游놓游놓 ^    |--.----.--|  = ^ 游놓游놓游놓游놓 .
         . 游놓游놓游놓游놓 ^  = |=|__|____|__|=|    ^ 游놓游놓游놓游놓 .
       . 游놓游놓游놓游놓 ^=     |*|~~|~~~~|~~|*|   =  ^ 游놓游놓游놓游놓 .
     . 游놓游놓游놓游놓 ^        |=|--|----|--|=|        ^ 游놓游놓游놓游놓 .
   . 游놓游놓游놓游놓 ^      =    -|__|____|__|-  =        ^ 游놓游놓游놓游놓 .
   游놓游놓游놓游놓 ^   =          ------------        =    ^ 游놓游놓游놓游놓
  ~~|.~       =        =      =          =         ~.|~~
    ||     =      =      = ____     =         =     ||
    ||  =               .-      -.        =         ||
    ||     _..._ =    .   .-()-.   .  =   _..._  =  ||
    || = .  _____.   /___:______:___\   . _____ .   ||
    || .-|---.---|-.   ||  _  _  ||   .-|---.---|-. ||
    || |=|   |   |=|   || | || | ||   |=|   |   |=| ||
    || |=|___|___|=|=  || | || | ||=  |=|___|___|=| ||
    || |=|~~~|~~~|=|   || | || | ||   |=|~~~|~~~|=| ||
    || |*|   |   |*|   || | || | ||  =|*|   |   |*| ||
    || |=|---|---|=| = || | || | ||   |=|---|---|=| ||
    || |=|   |   |=|   || | || | ||   |=|   |   |=| ||
    ||  -|___|___|-    ||o|_||_| ||    -|___|___|-  ||
    ||  ---------  =   ||  _  _  || =  ---------    ||
    || =   =           || | || | ||      =     =    ||
    ||  %@&   &@  =    || |_||_| ||  =   @&@   %@ = ||
    || %@&@% @%@&@    _||________||_   &@%&@ %&@&@  ||
    ||,,\\V//\\V//, _|___|------|___|_ ,\\V//\\V//,,||
    |--------------|____/--------\____|--------------|
   /- _  -  _   - _ -  _ - - _ - _ _ - _  _-  - _ - _ \
  /_jgs________________________________________________\
"

if ! [ jupyter_exists ]
  then
    echo "Hey, you need to install the Jupyter Notebook to run this script."
    echo "游꽅  Download it at from http://jupyter.readthedocs.io/en/latest/install.html"
    echo "and run this again"
    exit 1
fi

if ! [ lein_exists ]
  then
    echo "Hey, you need to install the Leiningen to run this script."
    echo "游꽅  $ brew install leiningen"
    echo "and run this again"
    exit 1
fi

jupyter "notebook" "notebook.ipynb"
